(this["webpackJsonponline-grocery-shopping"]=this["webpackJsonponline-grocery-shopping"]||[]).push([[0],{29:function(t,e,c){},36:function(t,e,c){"use strict";c.r(e);var r=c(1),n=c.n(r),i=c(21),a=c.n(i),s=(c(29),c(24)),o=c(9),d=c(8),l=c(4),j=c(2),u=c(0);function h(t){var e=t.cart.reduce((function(t,e){return t+e.quantity}),0);return Object(u.jsxs)("nav",{className:"navbar",children:[Object(u.jsx)(l.c,{to:"/",className:"nav-brand",children:"Online Grocery Shopping"}),Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(l.c,{exact:!0,activeClassName:"active",to:"/",children:"Home"})}),Object(u.jsx)("li",{className:"nav-item",children:Object(u.jsx)(l.c,{activeClassName:"active",to:"/products",children:"Products"})}),Object(u.jsx)("li",{children:Object(u.jsxs)(l.c,{to:"/cart",className:"nav-item nav-cart btn btn-accent",children:["Cart (",e,")"]})})]})]})}var b=c.p+"static/media/home_pic.735d1eb3.jpg";function O(){return Object(u.jsxs)("div",{className:"home-layout",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Online Grocery Shopping"}),Object(u.jsx)("img",{src:b,width:"320px",className:"home_pic"}),Object(u.jsxs)("p",{className:"home_paragraph",children:["Order your groceries from ",Object(u.jsx)("strong",{children:"Online Grocery Shopping"})," with our easy to use app, and get your products delivered straight to your doorstep."]}),Object(u.jsx)(l.b,{to:"/products",className:"btn btn-default",children:"Start Shopping"})]}),Object(u.jsx)("img",{})]})}function x(t){var e=Object(r.useState)(!0),c=Object(d.a)(e,2),n=c[0],i=c[1];return{get:function(e){return new Promise((function(c,r){fetch(t+e).then((function(t){return t.json()})).then((function(t){if(!t)return i(!1),r(t);i(!1),c(t)})).catch((function(t){console.error(t),i(!1),r(t)}))}))},loading:n}}var p=c(15),m=c(14),g=["children","outline","className"];function f(t){var e=t.children,c=t.outline,r=t.className,n=Object(p.a)(t,g),i=Object(m.a)({btn:!0,"btn-default":!c,"btn-outline":c},r);return Object(u.jsx)("button",Object(o.a)(Object(o.a)({className:i},n),{},{children:e}))}var v=c.p+"static/media/cheese.82b42841.png",y=c.p+"static/media/milk.9c2a8d66.png",N=c.p+"static/media/yogurt.504a894d.png",S=c.p+"static/media/egg.1edc939b.png",P=c.p+"static/media/tomato.69350337.png",k=c.p+"static/media/kiwi.4be0dbfa.png";function w(t){var e=t.details,c=t.cart.find((function(t){return t.id===e.id})),r=c?c.quantity:0;console.log(t.cart);var n,i=e.image;return Object(u.jsxs)("div",{className:"product",children:[Object(u.jsxs)("div",{className:"product-image-container",children:[Object(u.jsx)(l.b,{to:"/products/".concat(e.id),children:Object(u.jsx)("img",{src:(n=i,"cheese"===n?v:"milk"===n?y:"yogurt"===n?N:"egg"===n?S:"tomato"===n?P:"kiwi"===n?k:void 0),width:"100",height:"100",className:"product-image",alt:""})}),r>0&&Object(u.jsx)("div",{className:"product-quantity-container",children:Object(u.jsx)("div",{className:"product-quantity",children:r})})]}),Object(u.jsxs)("div",{className:"product-info",children:[Object(u.jsx)("h3",{children:e.name}),Object(u.jsx)("p",{children:e.description})]}),Object(u.jsxs)("div",{className:"product-checkout",children:[Object(u.jsx)("div",{children:r>0&&Object(u.jsx)(f,{outline:!0,className:"product-delete",onClick:function(){return t.onProductDelete(e.id)},children:"x"})}),Object(u.jsxs)(f,{outline:!0,onClick:function(){return t.onProductAdd(e)},children:["$",e.price]})]})]})}function q(t){var e=Object(r.useState)([]),c=Object(d.a)(e,2),n=c[0],i=c[1],a=x("https://supermarketapp-5709e-default-rtdb.firebaseio.com/"),s=a.get;a.loading;return Object(r.useEffect)((function(){console.log("Products Page"),s("supermarket.json").then((function(t){console.log(t),i(t)}),[]).catch((function(t){return console.log("Could not load products",t)}))}),[]),Object(u.jsxs)("div",{className:"products-layout",children:[Object(u.jsx)("h1",{children:"Products"}),Object(u.jsx)("div",{className:"products-grid",children:n.map((function(e){return Object(u.jsx)(w,{details:e,cart:t.cart,onProductAdd:t.onProductAdd,onProductDelete:t.onProductDelete},e.id)}))})]})}function C(t){var e=t.product,c=t.onProductAdd;return Object(u.jsxs)("div",{className:"productDetailInfo",children:[Object(u.jsxs)("p",{children:[e.description," sold at ",Object(u.jsxs)("strong",{children:["$",e.price]})," per piece."]}),Object(u.jsxs)(f,{onClick:function(){return c(e)},children:["$",e.price]})]})}function A(t){var e=t.nutrition;return Object(u.jsxs)("table",{className:"table table-nutrition",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{children:"Nutrient"}),Object(u.jsx)("th",{children:"Value"})]})}),Object(u.jsxs)("tbody",{children:[Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"Protein"}),Object(u.jsxs)("td",{children:[e.protein,"g"]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"Carbohydrates"}),Object(u.jsxs)("td",{children:[e.carbs,"g"]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"Fat"}),Object(u.jsxs)("td",{children:[e.fat,"g"]})]}),Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:"Salt"}),Object(u.jsxs)("td",{children:[e.salt,"g"]})]})]})]})}function D(t){var e=t.storage;return Object(u.jsx)("div",{className:"productDetailStorage",children:Object(u.jsxs)("p",{children:[Object(u.jsx)("strong",{children:"Storage instructions : "}),e,"."]})})}function F(t){var e=Object(r.useState)({}),c=Object(d.a)(e,2),n=c[0],i=c[1],a=x("https://supermarketapp-5709e-default-rtdb.firebaseio.com/").get,s=Object(j.f)(),o=Object(j.g)();console.log(o.path),console.log(o.url),Object(r.useEffect)((function(){a("productinfo/id".concat(s.id,".json")).then((function(t){console.log(t),i(t)})).catch((function(t){return console.error(t)}))}),[]);var h,b=n.image;return Object(u.jsxs)("div",{className:"product-details-layout",children:[Object(u.jsxs)("div",{children:[Object(u.jsx)("h2",{children:n.name}),Object(u.jsx)("img",{src:(h=b,"cheese"===h?v:"milk"===h?y:"yogurt"===h?N:"egg"===h?S:"tomato"===h?P:"kiwi"===h?k:void 0),width:"125",height:"125",className:"product-details-img",alt:n.name})]}),Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"tabs productDetails",children:Object(u.jsxs)("ul",{children:[Object(u.jsx)("li",{children:Object(u.jsx)(l.c,{exact:!0,activeClassName:"tab-active",to:o.url,children:"Details"})}),Object(u.jsx)("li",{children:Object(u.jsx)(l.c,{exact:!0,activeClassName:"tab-active",to:o.url+"/nutrition",children:"Nutrition"})}),Object(u.jsx)("li",{children:Object(u.jsx)(l.c,{exact:!0,activeClassName:"tab-active",to:o.url+"/storage",children:"Storage"})})]})}),Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{exact:!0,path:o.path,children:Object(u.jsx)(C,{onProductAdd:t.onProductAdd,product:n})}),Object(u.jsx)(j.a,{exact:!0,path:o.path+"/nutrition",children:Object(u.jsx)(A,{nutrition:n.nutrition})}),Object(u.jsx)(j.a,{exact:!0,path:o.path+"/storage",children:Object(u.jsx)(D,{storage:n.storage})})]})]})]})}var I=["className","placeholder","required","type"];function E(t){var e=t.className,c=t.placeholder,r=t.required,n=t.type,i=void 0===n?"text":n,a=Object(p.a)(t,I),s=Object(m.a)({input:!0},e);return Object(u.jsxs)("label",{className:"label",children:[c,r&&Object(u.jsx)("span",{className:"input-required",children:"*"}),Object(u.jsx)("div",{children:Object(u.jsx)("input",Object(o.a)({type:i,placeholder:c,className:s,required:r},a))})]})}var T=c(23),J=Object(T.a)("pk_test_51JRsufGLfgBri2d0vw8QApAVFSQgcSYyb6AMRRk1gBZg8rtucyfFSSgJo9axUoZYnfXwVVw9ci68Av2HMUTyin7x0095TNNhyx");function $(t){var e=t.cart,c=e.reduce((function(t,e){return t+e.price*e.quantity}),0),n=Object(r.useState)(""),i=Object(d.a)(n,2),a=i[0],s=i[1];return Object(u.jsx)("div",{className:"cart-layout",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("h1",{children:"Your Cart"}),0===e.length&&Object(u.jsx)("p",{children:"You have not added any product to your cart yet."}),e.length>0&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsxs)("table",{className:"table table-cart",children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{width:"25%",className:"th-product",children:"Product"}),Object(u.jsx)("th",{width:"20%",children:"Unit Price"}),Object(u.jsx)("th",{width:"10%",children:"Quantity"}),Object(u.jsx)("th",{width:"25%",children:"Total"})]})}),Object(u.jsx)("tbody",{children:e.map((function(t){return Object(u.jsxs)("tr",{children:[Object(u.jsxs)("td",{children:[Object(u.jsx)("img",{src:(e=t.image,"cheese"===e?v:"milk"===e?y:"yogurt"===e?N:"egg"===e?S:"tomato"===e?P:"kiwi"===e?k:void 0),width:"30",height:"30"})," ",t.name]}),Object(u.jsxs)("td",{children:["$",t.price]}),Object(u.jsx)("td",{children:t.quantity}),Object(u.jsx)("td",{children:Object(u.jsxs)("strong",{children:["$",t.price*t.quantity]})})]},t.id);var e}))}),Object(u.jsx)("tfoot",{children:Object(u.jsxs)("tr",{children:[Object(u.jsx)("th",{colSpan:"2"}),Object(u.jsx)("th",{className:"cart-highlight",children:"Total"}),Object(u.jsxs)("th",{className:"cart-hightlight",children:["$",c]})]})})]}),Object(u.jsxs)("form",{className:"pay-form",onSubmit:function(t){t.preventDefault();var c=e.map((function(t){return{price:t.price_id,quantity:t.quantity}}));J.then((function(t){t.redirectToCheckout({lineItems:c,mode:"payment",successUrl:"http://localhost:3000/",cancelUrl:"http://localhost:3000/",customerEmail:a}).then((function(t){console.log("Redirect"),console.log(t.error)})).catch((function(t){console.log("Wrong API"),console.log(t)}))}))},children:[Object(u.jsxs)("p",{children:["Enter your email and then click on pay and your products will be delevered to you on the same day!",Object(u.jsx)("br",{})]}),Object(u.jsx)(E,{placeholder:"Email",onChange:function(t){return s(t.target.value)},value:a,type:"email",required:!0}),Object(u.jsx)(f,{type:"submit",className:"payBtn",children:"Pay"})]})]})]})})}var _=function(){localStorage.setItem("cart",[]);var t=Object(r.useState)((function(){var t=[];try{t=JSON.parse(localStorage.getItem("cart"))||[]}catch(e){t=[]}return t})),e=Object(d.a)(t,2),c=e[0],n=e[1];function i(t){if(c.find((function(e){return e.id===t.id}))){var e=c.map((function(e){return e.id===t.id?Object(o.a)(Object(o.a)({},e),{},{quantity:e.quantity+1}):e}));n(e)}else n([].concat(Object(s.a)(c),[Object(o.a)(Object(o.a)({},t),{},{quantity:1})]))}return Object(r.useEffect)((function(){localStorage.setItem("cart",JSON.stringify(c))}),[c]),Object(u.jsxs)(l.a,{children:[Object(u.jsx)(h,{cart:c}),Object(u.jsx)("div",{className:"container",children:Object(u.jsxs)(j.c,{children:[Object(u.jsx)(j.a,{exact:!0,path:"/",children:Object(u.jsx)(O,{})}),Object(u.jsx)(j.a,{exact:!0,path:"/products",children:Object(u.jsx)(q,{cart:c,onProductAdd:i,onProductDelete:function(t){var e=c.filter((function(e){return e.id!==t}));n(e)}})}),Object(u.jsx)(j.a,{path:"/products/:id",children:Object(u.jsx)(F,{onProductAdd:i})}),Object(u.jsx)(j.a,{exact:!0,path:"/cart",children:Object(u.jsx)($,{cart:c})})]})})]})},B=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,37)).then((function(e){var c=e.getCLS,r=e.getFID,n=e.getFCP,i=e.getLCP,a=e.getTTFB;c(t),r(t),n(t),i(t),a(t)}))};a.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(_,{})}),document.getElementById("root")),B()}},[[36,1,2]]]);
//# sourceMappingURL=main.07000761.chunk.js.map